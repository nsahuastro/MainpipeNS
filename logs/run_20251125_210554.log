2025-11-25 21:05:54 [INFO] =*= Starting MainpipeNS pipeline =*=
2025-11-25 21:05:54 [INFO] Inspecting raw file...
2025-11-25 21:05:55 [INFO] Raw quick_stats:
2025-11-25 21:05:55 [INFO] {
  "file": "data/raw/mainpipe_data_v1.jsonl",
  "file_size_mb": 439.228,
  "total_lines": 269378,
  "sampled": 25000,
  "avg_length": 1589.76288,
  "median_length": 752.0,
  "p10": 187.0,
  "p90": 3211.0,
  "max_length": 178482,
  "min_length": 2,
  "empty_pct": 0.0,
  "short_pct": 3.832,
  "top_keys": [
    [
      "text",
      25000
    ],
    [
      "url",
      25000
    ]
  ]
}
2025-11-25 21:05:55 [INFO] category percentages in raw input file:
2025-11-25 21:06:19 [INFO] {
  "CODE_HEAVY": 20.892,
  "NON_ENGLISH_LANG": 7.7,
  "HTML": 23.724,
  "GOOD_ENGLISH": 40.308,
  "SHORT_ENGLISH": 7.376
}
2025-11-25 21:06:19 [INFO] Saved raw category percentages to reports/raw_category_pct.json
2025-11-25 21:06:19 [INFO] Saved raw category percentage plot to figures/raw_category_pct.pdf
2025-11-25 21:06:19 [INFO] Deduplication...
2025-11-25 21:06:21 [INFO] Deduplicated data saved to data/dedup/dedup.jsonl
2025-11-25 21:06:21 [INFO] Cleaning dataset...
2025-11-25 21:11:26 [INFO] Cleaned data saved to data/clean/clean.jsonl
2025-11-25 21:11:26 [INFO] Cleaning summary: {'KEPT': 107320, 'NON_ENGLISH': 21200, 'CODE_HEAVY': 72472, 'HTML_STRIPPED': 53294, 'TOO_SHORT': 19622, 'TOO_LONG': 282}
2025-11-25 21:11:26 [INFO] Saved cleaning report figure to figures/clean_data_hist.pdf
2025-11-25 21:11:26 [INFO] Inspecting cleaned dataset...
2025-11-25 21:12:01 [INFO] Clean dataset category percentages:
2025-11-25 21:12:01 [INFO] {
  "GOOD_ENGLISH": 99.376,
  "SHORT_ENGLISH": 0.432,
  "HTML": 0.192
}
2025-11-25 21:12:01 [INFO] Saved clean category percentages to reports/clean_category_pct.json
2025-11-25 21:12:01 [INFO] Saved clean category percentage plot to figures/clean_category_pct.pdf
2025-11-25 21:12:01 [INFO] Computing token length statsâ€¦
2025-11-25 21:12:04 [INFO] Saved token-length statistics to reports/token_length_stats.json
2025-11-25 21:12:04 [INFO] Tokenization...
2025-11-25 21:12:16 [INFO] Tokenized data saved to data/final/tokenized.jsonl
2025-11-25 21:12:16 [INFO] Packing to 2048-token blocks...
2025-11-25 21:12:19 [INFO] Packed blocks saved to data/final/packed_blocks.jsonl
2025-11-25 21:12:19 [INFO] Diagnosing packed block lengths...
2025-11-25 21:12:23 [INFO] Train/Val/Test sharding...
2025-11-25 21:12:23 [INFO] Sharded dataset saved to data/final/sharded_dataset
2025-11-25 21:12:23 [INFO] Writing meta.json...
2025-11-25 21:12:23 [INFO] =*= Pipeline completed successfully =*=
2025-11-25 21:12:23 [INFO] Total pipeline time: 0:06:28
